{% extends 'base.html.twig' %}

{% block body %}
    <div style="max-width: 900px; margin: auto; padding: 2rem; background-color: #f7f7f7; border-radius: 8px;">
        <div style="margin-bottom: 1rem;">
            <a href="{{ path('app_Clocking_create') }}"
               style="text-decoration: none; background-color: #333; color: white; padding: 0.5rem 1rem; border-radius: 4px;">
                + CrÃ©er un pointage
            </a>
        </div>

        <table style="width: 100%; border-collapse: collapse; font-family: sans-serif;">
            <thead>
                <tr style="background-color: #333; color: white;">
                    <th style="padding: 0.75rem; text-align: left;">{{ 'entity.Clocking.date'|trans }}</th>
                    <th style="padding: 0.75rem; text-align: left;">Chantiers & DurÃ©es</th>
                    <th style="padding: 0.75rem; text-align: left;">{{ 'entity.Clocking.clockingUser'|trans }}</th>
                    <th style="padding: 0.75rem; text-align: left;">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for clocking in clockings %}
                    <tr style="background-color: {{ loop.index is odd ? '#fff' : '#eee' }};">
                        <td style="padding: 0.75rem;">{{ clocking.date|date('d/m/Y') }}</td>
                        <td style="padding: 0.75rem;">
                            <ul style="margin: 0; padding-left: 1rem;">
                                {% for entry in clocking.entries %}
                                    <li style="margin-bottom: 0.25rem;">ðŸ›  {{ entry.project.name }} : {{ entry.duration }}h</li>
                                {% endfor %}
                            </ul>
                        </td>
                        <td style="padding: 0.75rem;">ðŸ‘¤ {{ clocking.clockingUser.lastName }} {{ clocking.clockingUser.firstName }}</td>
                        <td style="padding: 0.75rem;">
                            <a href="{{ path('app_Clocking_delete', {id: clocking.id}) }}"
                               style="color: #a00; text-decoration: none; font-weight: bold;">
                                Supprimer
                            </a>
                        </td>
                    </tr>
                {% else %}
                    <tr>
                        <td colspan="4" style="padding: 1rem; text-align: center; color: #666;">
                            Aucun pointage pour le moment.
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
